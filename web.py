import requests
import json
import logging
from flask import Flask, render_template
from flask import request
from datetime import datetime

app = Flask(__name__)


def api_request(url, timeout=1):
    try:
        r = requests.get(url, timeout=timeout)
        r.raise_for_status()
        app.logger.debug(f"{url} returned: {r.text}")
        return r.json()

    except Exception as err:
        app.logger.error(f"{url} API error: {err}")


def ip_to_country(ip):
    err_text = ''
    if ip == '127.0.0.1':
        country_uri = 'united-states'  # ipwhois.info treats 127.0.0.1 as Singapore
        err_text = f"We have detected a localhost IP address and assumed your country is US"
    else:
        api_data = api_request(f'http://ipwhois.app/json/{ip}')
        country_uri = api_data['country'].lower().replace(' ', '-')

    return country_uri, err_text


@app.route('/')
def root():
    covid_countries = api_request('https://api.covid19api.com/countries')
    app.logger.error(covid_countries)
    country_uri, error_msg = ip_to_country(request.remote_addr)

    # Get COVID data
    try:
        #r = requests.get(f'https://api.covid19api.com/total/country/{country_uri}/status/confirmed', timeout=5)
        #r.raise_for_status()
        #covid_data=r.json()

        covid_data=[{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1,"Deaths":0,"Recovered":0,"Active":1,"Date":"2020-01-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1,"Deaths":0,"Recovered":0,"Active":1,"Date":"2020-01-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2,"Deaths":0,"Recovered":0,"Active":2,"Date":"2020-01-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2,"Deaths":0,"Recovered":0,"Active":2,"Date":"2020-01-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5,"Deaths":0,"Recovered":0,"Active":5,"Date":"2020-01-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5,"Deaths":0,"Recovered":0,"Active":5,"Date":"2020-01-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5,"Deaths":0,"Recovered":0,"Active":5,"Date":"2020-01-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5,"Deaths":0,"Recovered":0,"Active":5,"Date":"2020-01-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5,"Deaths":0,"Recovered":0,"Active":5,"Date":"2020-01-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":7,"Deaths":0,"Recovered":0,"Active":7,"Date":"2020-01-31T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":8,"Deaths":0,"Recovered":0,"Active":8,"Date":"2020-02-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":8,"Deaths":0,"Recovered":0,"Active":8,"Date":"2020-02-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":0,"Active":11,"Date":"2020-02-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":0,"Active":11,"Date":"2020-02-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":0,"Active":11,"Date":"2020-02-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":0,"Active":11,"Date":"2020-02-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":0,"Active":11,"Date":"2020-02-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":0,"Active":11,"Date":"2020-02-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":3,"Active":8,"Date":"2020-02-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":11,"Deaths":0,"Recovered":3,"Active":8,"Date":"2020-02-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":12,"Deaths":0,"Recovered":3,"Active":9,"Date":"2020-02-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":12,"Deaths":0,"Recovered":3,"Active":9,"Date":"2020-02-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":13,"Deaths":0,"Recovered":3,"Active":10,"Date":"2020-02-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":15,"Deaths":0,"Recovered":5,"Active":10,"Date":"2020-02-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":15,"Deaths":0,"Recovered":5,"Active":10,"Date":"2020-02-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":15,"Deaths":0,"Recovered":5,"Active":10,"Date":"2020-02-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":15,"Deaths":0,"Recovered":5,"Active":10,"Date":"2020-02-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":15,"Deaths":0,"Recovered":6,"Active":9,"Date":"2020-02-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":15,"Deaths":0,"Recovered":6,"Active":9,"Date":"2020-02-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":16,"Deaths":0,"Recovered":6,"Active":10,"Date":"2020-02-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":16,"Deaths":0,"Recovered":7,"Active":9,"Date":"2020-02-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":24,"Deaths":1,"Recovered":7,"Active":16,"Date":"2020-02-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":30,"Deaths":1,"Recovered":7,"Active":22,"Date":"2020-03-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":52,"Deaths":6,"Recovered":7,"Active":39,"Date":"2020-03-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":72,"Deaths":7,"Recovered":7,"Active":58,"Date":"2020-03-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":103,"Deaths":11,"Recovered":7,"Active":85,"Date":"2020-03-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":172,"Deaths":12,"Recovered":7,"Active":153,"Date":"2020-03-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":215,"Deaths":14,"Recovered":7,"Active":194,"Date":"2020-03-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":337,"Deaths":17,"Recovered":7,"Active":313,"Date":"2020-03-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":450,"Deaths":21,"Recovered":7,"Active":422,"Date":"2020-03-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":515,"Deaths":22,"Recovered":7,"Active":486,"Date":"2020-03-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":713,"Deaths":28,"Recovered":8,"Active":677,"Date":"2020-03-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1105,"Deaths":33,"Recovered":8,"Active":1064,"Date":"2020-03-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1530,"Deaths":43,"Recovered":12,"Active":1475,"Date":"2020-03-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2115,"Deaths":51,"Recovered":12,"Active":2052,"Date":"2020-03-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2814,"Deaths":58,"Recovered":12,"Active":2744,"Date":"2020-03-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2986,"Deaths":70,"Recovered":12,"Active":2904,"Date":"2020-03-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4354,"Deaths":97,"Recovered":17,"Active":4240,"Date":"2020-03-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5970,"Deaths":132,"Recovered":17,"Active":5821,"Date":"2020-03-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":8386,"Deaths":191,"Recovered":105,"Active":8090,"Date":"2020-03-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":12674,"Deaths":265,"Recovered":121,"Active":12288,"Date":"2020-03-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":18736,"Deaths":364,"Recovered":147,"Active":18225,"Date":"2020-03-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":24508,"Deaths":463,"Recovered":176,"Active":23869,"Date":"2020-03-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":33152,"Deaths":573,"Recovered":178,"Active":32401,"Date":"2020-03-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":43850,"Deaths":762,"Recovered":178,"Active":42910,"Date":"2020-03-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":54112,"Deaths":1001,"Recovered":348,"Active":52763,"Date":"2020-03-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":66055,"Deaths":1325,"Recovered":361,"Active":64369,"Date":"2020-03-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":83611,"Deaths":1733,"Recovered":681,"Active":81197,"Date":"2020-03-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":102101,"Deaths":2253,"Recovered":869,"Active":98979,"Date":"2020-03-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":122059,"Deaths":2886,"Recovered":1072,"Active":118101,"Date":"2020-03-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":141205,"Deaths":3472,"Recovered":2665,"Active":135068,"Date":"2020-03-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":162707,"Deaths":4164,"Recovered":5644,"Active":152899,"Date":"2020-03-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":188744,"Deaths":5249,"Recovered":7024,"Active":176471,"Date":"2020-03-31T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":214205,"Deaths":6421,"Recovered":8474,"Active":199310,"Date":"2020-04-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":244610,"Deaths":7924,"Recovered":9001,"Active":227685,"Date":"2020-04-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":276547,"Deaths":9316,"Recovered":9707,"Active":257524,"Date":"2020-04-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":309699,"Deaths":10839,"Recovered":14652,"Active":284208,"Date":"2020-04-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":337573,"Deaths":12429,"Recovered":17448,"Active":307696,"Date":"2020-04-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":367215,"Deaths":14199,"Recovered":19581,"Active":333435,"Date":"2020-04-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":397992,"Deaths":16770,"Recovered":21763,"Active":359459,"Date":"2020-04-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":429686,"Deaths":18916,"Recovered":23559,"Active":387211,"Date":"2020-04-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":464442,"Deaths":21144,"Recovered":25410,"Active":417888,"Date":"2020-04-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":497943,"Deaths":23362,"Recovered":28790,"Active":445791,"Date":"2020-04-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":527969,"Deaths":25481,"Recovered":31270,"Active":471218,"Date":"2020-04-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":556522,"Deaths":27294,"Recovered":32988,"Active":496240,"Date":"2020-04-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":581813,"Deaths":29240,"Recovered":43482,"Active":509091,"Date":"2020-04-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":608878,"Deaths":31695,"Recovered":47763,"Active":529420,"Date":"2020-04-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":637974,"Deaths":34304,"Recovered":52096,"Active":551574,"Date":"2020-04-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":669272,"Deaths":36480,"Recovered":54703,"Active":578089,"Date":"2020-04-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":701996,"Deaths":38573,"Recovered":58545,"Active":604878,"Date":"2020-04-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":730266,"Deaths":40533,"Recovered":64840,"Active":624893,"Date":"2020-04-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":756544,"Deaths":42464,"Recovered":70337,"Active":643743,"Date":"2020-04-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":783931,"Deaths":44650,"Recovered":72329,"Active":666952,"Date":"2020-04-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":809295,"Deaths":47198,"Recovered":75204,"Active":686893,"Date":"2020-04-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":837627,"Deaths":49632,"Recovered":77366,"Active":710629,"Date":"2020-04-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":871617,"Deaths":52101,"Recovered":80203,"Active":739313,"Date":"2020-04-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":907908,"Deaths":54255,"Recovered":99079,"Active":754574,"Date":"2020-04-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":940829,"Deaths":55953,"Recovered":100372,"Active":784504,"Date":"2020-04-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":968518,"Deaths":57282,"Recovered":106988,"Active":804248,"Date":"2020-04-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":990983,"Deaths":58748,"Recovered":111424,"Active":820811,"Date":"2020-04-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1015518,"Deaths":60989,"Recovered":115936,"Active":838593,"Date":"2020-04-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1043038,"Deaths":63510,"Recovered":120720,"Active":858808,"Date":"2020-04-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1072667,"Deaths":65832,"Recovered":153947,"Active":852888,"Date":"2020-04-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1106829,"Deaths":67723,"Recovered":164015,"Active":875091,"Date":"2020-05-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1136024,"Deaths":69415,"Recovered":175382,"Active":891227,"Date":"2020-05-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1161611,"Deaths":70535,"Recovered":180152,"Active":910924,"Date":"2020-05-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1184086,"Deaths":71868,"Recovered":187180,"Active":925038,"Date":"2020-05-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1208271,"Deaths":74186,"Recovered":189791,"Active":944294,"Date":"2020-05-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1233527,"Deaths":76550,"Recovered":189910,"Active":967067,"Date":"2020-05-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1261409,"Deaths":78484,"Recovered":195036,"Active":987889,"Date":"2020-05-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1288587,"Deaths":80231,"Recovered":198993,"Active":1009363,"Date":"2020-05-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1314320,"Deaths":81719,"Recovered":212534,"Active":1020067,"Date":"2020-05-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1334084,"Deaths":82612,"Recovered":216169,"Active":1035303,"Date":"2020-05-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1352962,"Deaths":83626,"Recovered":232733,"Active":1036603,"Date":"2020-05-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1375152,"Deaths":85253,"Recovered":230287,"Active":1059612,"Date":"2020-05-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1396110,"Deaths":87017,"Recovered":243430,"Active":1065663,"Date":"2020-05-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1423727,"Deaths":88800,"Recovered":246414,"Active":1088513,"Date":"2020-05-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1449027,"Deaths":90481,"Recovered":250747,"Active":1107799,"Date":"2020-05-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1474128,"Deaths":91697,"Recovered":268376,"Active":1114055,"Date":"2020-05-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1493132,"Deaths":92455,"Recovered":272265,"Active":1128412,"Date":"2020-05-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1514901,"Deaths":93627,"Recovered":283178,"Active":1138096,"Date":"2020-05-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1535350,"Deaths":95179,"Recovered":289392,"Active":1150779,"Date":"2020-05-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1559157,"Deaths":96705,"Recovered":294312,"Active":1168140,"Date":"2020-05-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1584512,"Deaths":97922,"Recovered":298418,"Active":1188172,"Date":"2020-05-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1608653,"Deaths":99166,"Recovered":350135,"Active":1159352,"Date":"2020-05-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1630476,"Deaths":100275,"Recovered":361239,"Active":1168962,"Date":"2020-05-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1651289,"Deaths":100897,"Recovered":366736,"Active":1183656,"Date":"2020-05-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1670280,"Deaths":101445,"Recovered":379157,"Active":1189678,"Date":"2020-05-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1689163,"Deaths":102107,"Recovered":384902,"Active":1202154,"Date":"2020-05-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1707445,"Deaths":103625,"Recovered":391508,"Active":1212312,"Date":"2020-05-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1730260,"Deaths":104803,"Recovered":399991,"Active":1225466,"Date":"2020-05-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1754764,"Deaths":105963,"Recovered":406446,"Active":1242355,"Date":"2020-05-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1779214,"Deaths":106926,"Recovered":416461,"Active":1255827,"Date":"2020-05-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1799124,"Deaths":107507,"Recovered":444758,"Active":1246859,"Date":"2020-05-31T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1816479,"Deaths":108283,"Recovered":458231,"Active":1249965,"Date":"2020-06-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1837374,"Deaths":109351,"Recovered":463868,"Active":1264155,"Date":"2020-06-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1857332,"Deaths":110358,"Recovered":479258,"Active":1267716,"Date":"2020-06-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1878683,"Deaths":111381,"Recovered":485002,"Active":1282300,"Date":"2020-06-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1903907,"Deaths":112295,"Recovered":491706,"Active":1299906,"Date":"2020-06-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1926639,"Deaths":112954,"Recovered":500849,"Active":1312836,"Date":"2020-06-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1944370,"Deaths":113392,"Recovered":506367,"Active":1324611,"Date":"2020-06-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1961785,"Deaths":113911,"Recovered":518522,"Active":1329352,"Date":"2020-06-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":1979912,"Deaths":114861,"Recovered":524855,"Active":1340196,"Date":"2020-06-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2000706,"Deaths":115762,"Recovered":533504,"Active":1351440,"Date":"2020-06-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2023656,"Deaths":116633,"Recovered":540292,"Active":1366731,"Date":"2020-06-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2048986,"Deaths":117461,"Recovered":547386,"Active":1384139,"Date":"2020-06-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2074542,"Deaths":118220,"Recovered":556606,"Active":1399716,"Date":"2020-06-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2094366,"Deaths":118528,"Recovered":561816,"Active":1414022,"Date":"2020-06-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2114026,"Deaths":118922,"Recovered":576334,"Active":1418770,"Date":"2020-06-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2137731,"Deaths":119760,"Recovered":583503,"Active":1434468,"Date":"2020-06-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2163290,"Deaths":120504,"Recovered":592191,"Active":1450595,"Date":"2020-06-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2191099,"Deaths":121222,"Recovered":599115,"Active":1470762,"Date":"2020-06-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2222579,"Deaths":121892,"Recovered":606715,"Active":1493972,"Date":"2020-06-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2255328,"Deaths":122496,"Recovered":617460,"Active":1515372,"Date":"2020-06-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2281767,"Deaths":122781,"Recovered":622133,"Active":1536853,"Date":"2020-06-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2312303,"Deaths":123170,"Recovered":640198,"Active":1548935,"Date":"2020-06-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2347491,"Deaths":124017,"Recovered":647548,"Active":1575926,"Date":"2020-06-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2382426,"Deaths":124776,"Recovered":656161,"Active":1601489,"Date":"2020-06-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2422299,"Deaths":125327,"Recovered":663562,"Active":1633410,"Date":"2020-06-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2467554,"Deaths":125944,"Recovered":670809,"Active":1670801,"Date":"2020-06-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2510259,"Deaths":126448,"Recovered":679308,"Active":1704503,"Date":"2020-06-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2549864,"Deaths":126721,"Recovered":685164,"Active":1737979,"Date":"2020-06-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2590668,"Deaths":127098,"Recovered":705203,"Active":1758367,"Date":"2020-06-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2636414,"Deaths":127723,"Recovered":720631,"Active":1788060,"Date":"2020-06-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2687588,"Deaths":128417,"Recovered":729994,"Active":1829177,"Date":"2020-07-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2742049,"Deaths":129144,"Recovered":781970,"Active":1830935,"Date":"2020-07-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2795361,"Deaths":129804,"Recovered":790404,"Active":1875153,"Date":"2020-07-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2841241,"Deaths":130069,"Recovered":894325,"Active":1816847,"Date":"2020-07-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2891124,"Deaths":130357,"Recovered":906763,"Active":1854004,"Date":"2020-07-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2936077,"Deaths":130712,"Recovered":924148,"Active":1881217,"Date":"2020-07-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":2996098,"Deaths":131934,"Recovered":936476,"Active":1927688,"Date":"2020-07-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3054699,"Deaths":132797,"Recovered":953462,"Active":1968440,"Date":"2020-07-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3117946,"Deaths":133800,"Recovered":969111,"Active":2015035,"Date":"2020-07-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3185737,"Deaths":134624,"Recovered":983185,"Active":2067928,"Date":"2020-07-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3245925,"Deaths":135314,"Recovered":995576,"Active":2115035,"Date":"2020-07-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3304942,"Deaths":135773,"Recovered":1006326,"Active":2162843,"Date":"2020-07-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3364157,"Deaths":136140,"Recovered":1031939,"Active":2196078,"Date":"2020-07-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3431574,"Deaths":137066,"Recovered":1049098,"Active":2245410,"Date":"2020-07-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3498902,"Deaths":138034,"Recovered":1075882,"Active":2284986,"Date":"2020-07-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3576157,"Deaths":138977,"Recovered":1090645,"Active":2346535,"Date":"2020-07-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3647715,"Deaths":139907,"Recovered":1107204,"Active":2400604,"Date":"2020-07-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3711413,"Deaths":140775,"Recovered":1122720,"Active":2447918,"Date":"2020-07-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3773260,"Deaths":141222,"Recovered":1131121,"Active":2500917,"Date":"2020-07-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3834677,"Deaths":141736,"Recovered":1160087,"Active":2532854,"Date":"2020-07-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3899211,"Deaths":142843,"Recovered":1182018,"Active":2574350,"Date":"2020-07-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":3970121,"Deaths":144059,"Recovered":1210849,"Active":2615213,"Date":"2020-07-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4038816,"Deaths":145153,"Recovered":1233269,"Active":2660394,"Date":"2020-07-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4112531,"Deaths":146285,"Recovered":1261624,"Active":2704622,"Date":"2020-07-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4178970,"Deaths":147184,"Recovered":1279414,"Active":2752372,"Date":"2020-07-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4233923,"Deaths":147656,"Recovered":1297863,"Active":2788404,"Date":"2020-07-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4290337,"Deaths":148776,"Recovered":1325804,"Active":2815757,"Date":"2020-07-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4356206,"Deaths":150150,"Recovered":1355363,"Active":2850693,"Date":"2020-07-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4426982,"Deaths":151582,"Recovered":1389425,"Active":2885975,"Date":"2020-07-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4495015,"Deaths":152791,"Recovered":1414155,"Active":2928069,"Date":"2020-07-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4562107,"Deaths":154034,"Recovered":1438160,"Active":2969913,"Date":"2020-07-31T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4620592,"Deaths":155149,"Recovered":1461885,"Active":3003558,"Date":"2020-08-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4668172,"Deaths":155552,"Recovered":1468689,"Active":3043931,"Date":"2020-08-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4713540,"Deaths":156082,"Recovered":1513446,"Active":3044012,"Date":"2020-08-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4771080,"Deaths":157460,"Recovered":1528979,"Active":3084641,"Date":"2020-08-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4823890,"Deaths":158836,"Recovered":1577851,"Active":3087203,"Date":"2020-08-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4883582,"Deaths":160089,"Recovered":1598624,"Active":3124869,"Date":"2020-08-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4941755,"Deaths":161331,"Recovered":1623870,"Active":3156554,"Date":"2020-08-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":4997929,"Deaths":162408,"Recovered":1643118,"Active":3192403,"Date":"2020-08-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5044864,"Deaths":162919,"Recovered":1656864,"Active":3225081,"Date":"2020-08-09T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5094400,"Deaths":163446,"Recovered":1670755,"Active":3260199,"Date":"2020-08-10T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5141208,"Deaths":164510,"Recovered":1714960,"Active":3261738,"Date":"2020-08-11T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5197411,"Deaths":166015,"Recovered":1753760,"Active":3277636,"Date":"2020-08-12T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5248958,"Deaths":167085,"Recovered":1774648,"Active":3307225,"Date":"2020-08-13T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5313252,"Deaths":168423,"Recovered":1796326,"Active":3348503,"Date":"2020-08-14T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5361165,"Deaths":169457,"Recovered":1818527,"Active":3373181,"Date":"2020-08-15T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5403213,"Deaths":170028,"Recovered":1833067,"Active":3400118,"Date":"2020-08-16T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5438325,"Deaths":170474,"Recovered":1865580,"Active":3402271,"Date":"2020-08-17T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5483388,"Deaths":171799,"Recovered":1898159,"Active":3413430,"Date":"2020-08-18T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5529824,"Deaths":173152,"Recovered":1925049,"Active":3431623,"Date":"2020-08-19T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5573847,"Deaths":174231,"Recovered":1947035,"Active":3452581,"Date":"2020-08-20T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5622470,"Deaths":175336,"Recovered":1965056,"Active":3482078,"Date":"2020-08-21T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5667070,"Deaths":176318,"Recovered":1985484,"Active":3505268,"Date":"2020-08-22T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5701645,"Deaths":176768,"Recovered":1997761,"Active":3527116,"Date":"2020-08-23T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5739536,"Deaths":177210,"Recovered":2020774,"Active":3541552,"Date":"2020-08-24T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5777710,"Deaths":178449,"Recovered":2053699,"Active":3545562,"Date":"2020-08-25T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5821819,"Deaths":179674,"Recovered":2084465,"Active":3557680,"Date":"2020-08-26T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5867785,"Deaths":180785,"Recovered":2101326,"Active":3585674,"Date":"2020-08-27T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5913941,"Deaths":181756,"Recovered":2118367,"Active":3613818,"Date":"2020-08-28T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5961094,"Deaths":182714,"Recovered":2140614,"Active":3637766,"Date":"2020-08-29T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":5996431,"Deaths":183024,"Recovered":2153939,"Active":3659468,"Date":"2020-08-30T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6030587,"Deaths":183597,"Recovered":2184825,"Active":3662165,"Date":"2020-08-31T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6073840,"Deaths":184664,"Recovered":2202663,"Active":3686513,"Date":"2020-09-01T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6113510,"Deaths":185720,"Recovered":2231757,"Active":3696033,"Date":"2020-09-02T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6150016,"Deaths":186790,"Recovered":2266957,"Active":3696269,"Date":"2020-09-03T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6200518,"Deaths":187755,"Recovered":2283454,"Active":3729309,"Date":"2020-09-04T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6244970,"Deaths":188538,"Recovered":2302187,"Active":3754245,"Date":"2020-09-05T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6276365,"Deaths":188941,"Recovered":2315995,"Active":3771429,"Date":"2020-09-06T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6300622,"Deaths":189208,"Recovered":2333551,"Active":3777863,"Date":"2020-09-07T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6327009,"Deaths":189653,"Recovered":2359111,"Active":3778245,"Date":"2020-09-08T00:00:00Z"},{"Country":"United States of America","CountryCode":"","Province":"","City":"","CityCode":"","Lat":"0","Lon":"0","Confirmed":6361265,"Deaths":190859,"Recovered":2387479,"Active":3782927,"Date":"2020-09-09T00:00:00Z"}]

        # Find peak date
        peak = max(covid_data, key=lambda x:x['Active'])
        peak_date = datetime.strptime(peak['Date'], '%Y-%m-%dT%H:%M:%SZ')

        #new_cases = covid_data[-1]['Cases'] - covid_data[-2]['Cases']

    except Exception as err:
        app.logger.error(f"api.covid19api.com API error: {err}")
        return f'There was an error with your request: {err}', 500

    return render_template("root.html",
                           covid_countries=covid_countries,
                           country_uri=country_uri,)


if __name__ == '__main__':
    app.run(host='0.0.0.0')
